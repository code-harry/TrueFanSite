#!/bin/bash

# Variables
IMAGE_NAME="springboot-app"
CONTAINER_NAME="springboot-container"
PORT=8080

echo ">>> Building Docker image..."
docker build -t $IMAGE_NAME .

echo ">>> Stopping old container if running..."
docker stop $CONTAINER_NAME 2>/dev/null || true
docker rm $CONTAINER_NAME 2>/dev/null || true

echo ">>> Running new container..."
docker run -d -p $PORT:8080 --name $CONTAINER_NAME $IMAGE_NAME

echo ">>> Container is running on http://localhost:$PORT"
